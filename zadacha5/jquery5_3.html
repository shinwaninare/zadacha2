<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>jQuery5.3</title>
	<style type="text/css">
		li{
			cursor: pointer;
		}
	</style>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
</head>
<body>
	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" 
			integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" 
			crossorigin="anonymous">
	</script>	
	<script type="text/javascript">
		var m = [
			{
				text: 'Животные',
				childs: [
					{
						text: 'Млекопитающие',
						childs: [
							'Коровы',
							'Ослы',
							'Собаки',
							'Тигры'
						]
					},
					{
						text: 'Другие',
						childs: [							
							'Змеи',								
							'Птицы',							
							'Ящерицы',														
						]
					}
				]
			},
			{
				text: 'Рыбы',
				childs: [
					{
						text: 'Аквариумные',
						childs: [
							'Гуппи',
							'Скалярии'
						]
					},
					{
						text: 'Морские',
						childs: [
							'Морская форель'
						]
					}
				]
			}
		]
		function makelist(childs) {			
			var ul = $('<ul/>')
			for (var child of childs) {
				var li = $('<li/>')
				if (child.text != undefined){ 
					li.append(child.text)
				}
				if (typeof child != 'object'){
					li.append(child)
				}
				else if (child.childs != undefined){
					li.append(makelist(child.childs))
				}		
				li.on('click', function() {					
					$(this.firstElementChild).slideToggle('slow');
					console.log(this.firstChild.data, $(this).find("li").length);
					return false
				})
				ul.append(li)
			}
			return ul
		}
		$("body").append(makelist(m));
	</script>		
</body>
</html>
